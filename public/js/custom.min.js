var ajax_loader_f;function select_airport(a,t,e){var n=".search_result"+a,i=".airport_search"+a,r=$(t).find(".airport_name_container .airport_name").html(),o=$(t).find(".airport_code_container .airport_code").html(),s=r+"-("+o+")";$(n).html(""),$(i).val(s).attr("data-validation","1").attr("data-country",e).attr("data-code",o)}function select_airport_cip(a,t){var e=$(a).find(".airport_name_container .airport_name").html(),n=$(a).find(".airport_code_container .airport_code").html(),i=e+"-("+n+")";$(".search_result_cip").hide(),$(".cip_search").val(i).attr("data-validation","1").attr("data-country",t).attr("data-code",n)}function select_airline(a,t){var e=".search_result"+a,n=$(t).find(".airport_name_container .airport_name").html(),i=$(t).find(".airport_code_container .airport_code").html(),r=n+"-("+i+")";$(e).html(""),$(".airline_search").val(r).attr("data-validation","1").attr("data-country",country).attr("data-code",i)}function add_cip_count(){var a=$(".cip_search_form").find(":input"),t=$("input[name='passenger_counting_js']").val(),e=$("input[name='passengers_counting_js']").val(),n={};a.each(function(){n[this.name]=$(this).val()});var i,r=parseInt(n.adl)+parseInt(n.chl)+parseInt(n.inf);i=1==r?t:e,$("#cip_count_button").val(r+" "+i)}jQuery(document).ready(function(a){a.ajaxSetup({headers:{"X-CSRF-TOKEN":a('meta[name="csrf-token"]').attr("content")}});var t=a(".mobile-toggle"),e=a("header #menu-main"),n=a("ul.nav-menu li a"),i=(a("header li.has-dropdown"),a("ul.sub-menu"),a(".cart-model")),r=a("#cart-link"),o=a("#search_bar"),s=a(".close-search"),l=a("#search-header"),d=a("#fixed-header"),c=a("#fixed-header-dark"),p=a(".sticky-content"),_=a(".sticky-sidebar");t.click(function(a){e.slideToggle()}),n.click(function(t){var e=this.parentNode.getElementsByTagName("ul").item(0);null!=e&&(t.preventDefault(),a(e).slideToggle())}),a(window).resize(function(){a(window).width()>1024&&a("#menu-main > ul, nav > #menu-main  li  ul").removeAttr("style")}),r.click(function(){i.slideToggle("fast")}),a(window).click(function(){i.hide("fast")}),r.click(function(a){a.stopPropagation()}),l.click(function(){o.slideToggle("fast")}),s.click(function(){o.hide("fast")});var u=a(".travelers-say"),h=a(".slider-1"),m=a(".travelers-say-3");u.add(h).owlCarousel({dotsContainer:"#carousel-custom-dots",items:1,itemsDesktop:[1e3,2],itemsDesktopSmall:[900,2],itemsTablet:[600,1],itemsMobile:!1}),m.owlCarousel({dotsContainer:"#carousel-custom-dots",items:3,itemsDesktop:[1e3,3],itemsDesktopSmall:[900,3],itemsTablet:[600,1],itemsMobile:!1}),a('[data-toggle="tooltip"]').tooltip(),a(document).on("click",'[data-toggle="lightbox"]',function(t){t.preventDefault(),a(this).ekkoLightbox()}),a(window).scroll(function(){a(window).scrollTop()>=300?(d.addClass("fixed-header"),c.addClass("fixed-header-dark")):(d.removeClass("fixed-header"),c.removeClass("fixed-header-dark")),a(window).scrollTop()>=20?a("#btn-back-to-top").show():a("#btn-back-to-top").hide()}),p.theiaStickySidebar({additionalMarginTop:30}),_.theiaStickySidebar({additionalMarginTop:30}),a(".nav-btn").click(function(){a(this).addClass("active"),a(this).siblings().removeClass("active");var t=a(this).index();a("#nav-indicator").css("left",100*t+"px");var e=a(this).attr("data-row-id"),n=a("#"+e).first().offset().top-60;a("html, body").animate({scrollTop:n+"px"},300)});var f=a(".div-center"),v=a(".with-center");a(window).resize(function(){f.css({"padding-top":(v.height()-(f.outerHeight()+100))/2,"padding-bottom":(v.height()-(f.outerHeight()+100))/2})}),a(window).resize(),a(".way").click(function(){a(this).addClass("active_tab"),a(this).siblings().removeClass("active_tab");var t=a(this).data("toggle"),e=a(this).data("id"),n=".round_trip"+e,i=".daterange"+e,r=".one_way"+e,o=".date"+e;"R"==t?(a(n).removeClass("display_none"),a(r).addClass("display_none"),a(i).removeAttr("disabled").attr("data-validation","1"),a(o).attr("disabled","disabled").attr("data-validation","0")):(a(n).addClass("display_none"),a(r).removeClass("display_none"),a(i).attr("disabled","disabled").attr("data-validation","0"),a(o).removeAttr("disabled").attr("data-validation","1"))}),a(".count_h_up").click(function(){var t=a(this).siblings("input"),e=t.attr("data-max"),n=parseInt(t.val());n<e&&(n+=1,t.val(n))}),a(".count_h_down").click(function(){var t=a(this).siblings("input"),e=t.attr("data-min"),n=parseInt(t.val());n>e&&(n-=1,t.val(n))}),a(".airport_search").keyup(function(){var t=a(".origin");a(this).attr("data-validation","0");var e=a(this).val(),n=a(this).data("sec"),i=e.length,r=a("input[name='lang']").val(),o=".search_result"+n;i>2?a.ajax({url:"/AutoComplete",type:"POST",data:{data:e,sec:n,lang:r},beforeSend:function(){},success:function(e){a(o).html(e),window.matchMedia("(max-width: 767px)").matches&&a("html,body").animate({scrollTop:t.offset().top},1e3)},error:function(){}}):a(o).html("")}).click(function(){a(this).select()}),a(".search_form").submit(function(){var t,e=a(this).find(":input"),n={},i={},r={},o={};e.each(function(){n[this.name]=a(this).val(),i[this.name]=a(this).attr("data-validation"),r[this.name]=a(this).attr("data-country"),o[this.name]=a(this).attr("data-code")});var s=parseInt(i.origin),l=parseInt(i.destination),d=parseInt(n.adl),c=parseInt(n.chl),p=parseInt(n.inf),_=n.origin,u=n.destination,h=(r.origin,r.destination,n.daterange_d),m=n.daterange_r,f=n.date,v=i.daterange_d,g=(i.daterange_r,i.date),y=h.substring(0,2),k=parseInt(h.substring(3,5))-1,w=h.substring(6,10),C=new Date(w,k,y);C=C.getDay();var x=m.substring(0,2),S=parseInt(m.substring(3,5))-1,j=m.substring(6,10),T=new Date(j,S,x);T=T.getDay();var I=f.substring(0,2),D=parseInt(f.substring(3,5))-1,O=f.substring(6,10),Q=new Date(O,D,I);Q=Q.getDay(),0==s?(alert(a("input[name='u_f_a']").val()),event.preventDefault()):0==l?(alert(a("input[name='u_t_a']").val()),event.preventDefault()):_==u?(alert(a("input[name='same_error']").val()),event.preventDefault()):""!=h&&""!=m&&0!=v||""!=f&&0!=g?d+c+p>9?(alert(a("input[name='t_n_e']").val()),event.preventDefault()):p>d?(alert(a("input[name='i_w_a']").val()),event.preventDefault()):(1==v?(t=h,date_day_week=C):(t=f,date_day_week=Q),0==v&&(m="-",T=""),b(o.origin,o.destination,n.origin,n.destination,d,c,p,t,m,date_day_week,T)):(alert(a("input[name='u_d']").val()),event.preventDefault())}),a(".cip_search_form").submit(function(){var t,e=a(this).find(":input"),n={},i={},r={},o={};e.each(function(){n[this.name]=a(this).val(),i[this.name]=a(this).attr("data-validation"),r[this.name]=a(this).attr("data-country"),o[this.name]=a(this).attr("data-code")});var s=parseInt(i.cip_airport),l=parseInt(i.airline),d=(parseInt(n.adl),parseInt(n.chl),parseInt(n.inf),n.cip_airport,n.cip_date),c=d.slice(0,2),p=d.slice(3,5);p=parseInt(p)-1;var _=d.slice(6,10);(t=new Date(_,p,c)).setDate(t.getDate()-1);var u=new Date;0==s?(alert(a("input[name='u_a']").val()),event.preventDefault()):0==l?(alert(a("input[name='u_airline']").val()),event.preventDefault()):""==d?(alert(a("input[name='u_d']").val()),event.preventDefault()):t<=u&&(alert(a("input[name='cip_min_2_day']").val()),event.preventDefault())});new Swiper(".swiper-container",{slidesPerView:6,spaceBetween:30,slidesPerGroup:1,loop:!0,breakpoints:{768:{slidesPerView:1},992:{slidesPerView:3}},autoplay:{delay:2500,disableOnInteraction:!1},loopFillGroupWithBlank:!0,pagination:{el:".swiper-pagination",clickable:!0}});function g(){var t=document.getElementById("slide_filter1"),e=document.getElementById("slide_filter2");t&&(noUiSlider.create(t,{start:[0,parseInt(a("input[name='max_waiting']").val())],connect:!0,step:30,range:{min:0,max:parseInt(a("input[name='max_waiting']").val())}}),t.noUiSlider.on("update",function(t,e){var n="#"+a("#slide_filter1").attr("data-target"),i=parseInt(t[0]/60),r=parseInt(t[0]%60),o=parseInt(t[1]/60),s=parseInt(t[1]%60);i<10&&(i="0"+i),r<10&&(r="0"+r),o<10&&(o="0"+o),s<10&&(s="0"+s),a(n).val(i+":"+r+" - "+o+":"+s)}),t.noUiSlider.on("set",function(t,e){var n=t[0],i=t[1],r=a("input[name='is_none_stop']").val(),o=a(".my_pagination").attr("data-count");a("#slide_filter1").attr("data-start",n),a("#slide_filter1").attr("data-end",i);y(0,25*o,1,r),a("html,body").animate({scrollTop:a(".flight_post_body").offset().top},1e3)})),e&&(noUiSlider.create(e,{start:[0,parseInt(a("input[name='max_waiting']").val())],connect:!0,step:30,range:{min:0,max:parseInt(a("input[name='max_waiting']").val())}}),e.noUiSlider.on("update",function(t,e){var n="#"+a("#slide_filter2").attr("data-target"),i=parseInt(t[0]/60),r=parseInt(t[0]%60),o=parseInt(t[1]/60),s=parseInt(t[1]%60);i<10&&(i="0"+i),r<10&&(r="0"+r),o<10&&(o="0"+o),s<10&&(s="0"+s),a(n).val(i+":"+r+" - "+o+":"+s)}),e.noUiSlider.on("set",function(t,e){var n=t[0],i=t[1],r=a("input[name='is_none_stop']").val(),o=a(".my_pagination").attr("data-count");a("#slide_filter2").attr("data-start",n),a("#slide_filter2").attr("data-end",i);y(0,25*o,1,r),a("html,body").animate({scrollTop:a(".flight_post_body").offset().top},1e3)})),a(".slide_filter").each(function(){var t="#"+a(this).attr("data-target"),e=0,n=0,i=a("input[name='max_waiting']").val()/60,r=0;e<10&&(e="0"+e),n<10&&(n="0"+n),i<10&&(i="0"+i),r<10&&(r="0"+r),a(t).val(e+":"+n+" - "+i+":"+r)})}function y(t,e,n,i,r=0){var o=a("input[name='lang']").val(),s=a("input[name='sch_id']").val(),l=a(".active_order").attr("data-target"),d=[],c=0;a("#ajax_flight_main_container").html(""),a(".filter_input:not(:checked)").each(function(){var t=this.name,e=a(this).val();d[c]=[t,"!=",e],c++}),a(".slide_filter").each(function(){var t=a(this).attr("data-target"),e=a(this).attr("data-start"),n=a(this).attr("data-end");d[c]=[t,">=",e],d[++c]=[t,"<=",n],c++}),a.ajax({url:"/filter",type:"POST",cache:!0,data:{search_id:s,lang:o,order:l,start:t,length:e,filter:d,is_none_stop:i,render:r},dataType:"html",beforeSend:function(){w(1)},success:function(e){if(pagin_container="#my_pagination"+r,a(pagin_container).remove(),post_content="#flight_main_container"+r,0==n){var i=a(post_content).html();a(post_content).html(i+JSON.parse(e).html)}else 1==n&&(a(".flight_main_container").remove(),a(".ajax_flight_loader_container").remove(),a(post_content).html(JSON.parse(e).html));pagination_count_span=pagin_container+" .pagination_count_span",pagination_counter=pagin_container+" .my_pagination",x=parseInt((t+25)/25),a(pagination_counter).attr("data-count",x),flight_container=post_content+" .flight_container";var o=a(flight_container).length;a(pagination_count_span).html(o),a(flight_container).length==JSON.parse(e).count?a(pagin_container).hide():a(pagin_container).show(),pagination_total_span=pagin_container+" .pagination_total_span",a(pagination_total_span).html(JSON.parse(e).count),w(0)},error:function(){w(0)}})}function b(t,e,n,i,r,o,s,l,d,c,p){var _=a("input[name='trs_depart_date']").val(),u=a("input[name='trs_return_date']").val(),h=a("input[name='trs_adult']").val(),m=a("input[name='trs_child']").val(),f=a("input[name='trs_infant']").val();a(".airport .from_airport").html(t),a(".airport .to_airport").html(e),a(".airport .from_airport_name").html(n),a(".airport .to_airport_name").html(i),a(".search_date .depart_date").html(_+" : "+k(c)+" "+l),"-"!=d&&a(".search_date .return_date").html(u+" : "+k(p)+" "+d),r&&a(".passenger_number .passenger1").html(h+" : "+r),o&&a(".passenger_number .passenger2").html(m+" : "+o),s&&a(".passenger_number .passenger3").html(f+" : "+s),a("#search_loader").modal("show")}function k(t){switch(t=parseInt(t)){case 0:day=a("input[name='trs_sunday_short']").val();break;case 1:day=a("input[name='trs_monday_short']").val();break;case 2:day=a("input[name='trs_Tuesday_short']").val();break;case 3:day=a("input[name='trs_Wednesday_short']").val();break;case 4:day=a("input[name='trs_Thursday_short']").val();break;case 5:day=a("input[name='trs_Friday_short']").val();break;case 6:day=a("input[name='trs_saturday_short']").val();break;default:day=""}return day}function w(t){1==t?a(".ajax_loader").show():a(".ajax_loader").hide()}jQuery(document).on("click",".details_link",function(t){var e=a(this).attr("data-tar"),n=a(this).attr("data-render"),i="#price_details"+n+"_"+e,r=".price_details_detail_link[data-change="+e+"][data-render="+n+"]",o=a(".flight_details_detail_link[data-change="+e+"][data-render="+n+"]"),s=a(this).parents(".flight-post");o.hasClass("details_link_active")?(o.removeClass("details_link_active"),s.removeClass("f_p_active_bxs")):(o.addClass("details_link_active"),s.addClass("f_p_active_bxs")),a(i).collapse("hide"),a(r).removeClass("details_link_active")}),jQuery(document).on("click",".price_link",function(){var t=a(this).attr("data-tar"),e=a(this).attr("data-render"),n=".flight_details_detail_link[data-change="+t+"][data-render="+e+"]",i="#flight_details"+e+"_"+t,r=a(".price_details_detail_link[data-change="+t+"][data-render="+e+"]"),o=a(this).parents(".flight-post");r.hasClass("details_link_active")?(r.removeClass("details_link_active"),o.removeClass("f_p_active_bxs")):(r.addClass("details_link_active"),o.addClass("f_p_active_bxs")),a(i).collapse("hide"),a(n).removeClass("details_link_active")}),jQuery(document).on("click",".orderby_item",function(){var t=a("input[name='lang']").val(),e=a("input[name='sch_id']").val(),n=a("input[name='is_none_stop']").val(),i=a(this).attr("data-target"),r=".orderby_item[data-target="+i+"]";a.ajax({url:"/reorder",type:"POST",cache:!0,data:{search_id:e,lang:t,order:i,is_none_stop:n},dataType:"html",beforeSend:function(){w(1)},success:function(t){a(".flight_main_container").remove(),a("#flight_main_container0").html(JSON.parse(t).html),a(".orderby_item").removeClass("active_order"),a(r).addClass("active_order");var e=a(".flight_container").length;a(".pagination_count_span").html(e),a(".flight_container").length==JSON.parse(t).count?a(".my_pagination").hide():a(".my_pagination").show(),a(".pagination_total_span").html(JSON.parse(t).count),a(".filter_input").prop("checked",!0),a("#airline0").prop("checked",!0),a(".my_pagination").attr("data-count",1),w(0)},error:function(){w(0)}})}),jQuery(document).on("click",".my_pagination",function(t){t.preventDefault();var e=a("input[name='is_none_stop']").val(),n=parseInt(a(this).attr("data-count"));y(25*(n+=1)-25,25,0,e,parseInt(a(this).attr("data-target")))}),jQuery(document).on("click",".filter_input",function(){var t=parseInt(a(".my_pagination").attr("data-count")),e=a("input[name='is_none_stop']").val();name=a(this).attr("name"),fil="input[name='"+name+"']:checked",fil2="input[name='"+name+"']",all="input[name='"+name+"'][value='ALL']",a(fil).length==fil2.length?a(all).prop("checked",!0):a(all).prop("checked",!1),(1==a("input[name='stops']:checked").length&&0==a("input[name='stops']:checked").val()||1==a("input[name='return_stops']:checked").length&&0==a("input[name='return_stops']:checked").val())&&a("input[name='ValidatingAirlineCode']").prop("checked",!0);y(0,25*t,1,e),a("html,body").animate({scrollTop:a(".flight_post_body").offset().top},1e3)}),jQuery(document).on("click",".only_filter",function(t){t.preventDefault();var e=a("input[name='is_none_stop']").val(),n=a(".my_pagination").attr("data-count"),i=a(this).parent("label").siblings("input");"depart_stop0"!=i.attr("id")&&"return_stop0"!=i.attr("id")||a("input[name='ValidatingAirlineCode']").prop("checked",!0);var r=a(this).attr("data-target");a("input[name="+r+"]").prop("checked",!1),i.prop("checked",!0);y(0,25*n,1,e),a("html,body").animate({scrollTop:a(".flight_post_body").offset().top},1e3)}),jQuery(document).on("click",".airline_list_filter",function(){var t=a(this).data("id"),e=a("input[name='lang']").val(),n=a("input[name='sch_id']").val(),i=a(".active_order").attr("data-target");a(".flight_sidebar_container input:enabled").prop("checked",!0);var r=a("input[name='is_none_stop']").val();a(".my_pagination").attr("data-count");a.ajax({url:"/select_flight",type:"POST",cache:!0,data:{search_id:n,lang:e,order:i,id:t,is_none_stop:r},dataType:"html",beforeSend:function(){w(1)},success:function(e){a(".flight_main_container").remove(),a(".ajax_flight_loader_container").remove(),a("#flight_main_container0").html(JSON.parse(e).html);var n=a(".flight_container").length;a(".pagination_count_span").html(n),a(".flight_container").length==JSON.parse(e).count?a(".my_pagination").hide():a(".my_pagination").show(),a(".pagination_total_span").html(JSON.parse(e).count),w(0);var i="#fl"+t;a("html,body").animate({scrollTop:a(i).offset().top},1e3)},error:function(){w(0)}})}),jQuery(document).on("click",".choose_all",function(t){var e=a(".my_pagination").attr("data-count"),n=a("input[name='is_none_stop']").val(),i=a(this).prop("checked"),r="input:enabled[name="+this.name+"]";i?(a(r).prop("checked",!0),a(this).prop("checked",!0)):(a(r).prop("checked",!1),a(this).prop("checked",!1));y(0,25*e,1,n),a("html,body").animate({scrollTop:a(".flight_post_body").offset().top},1e3)}),g(),jQuery(document).on("click","#ticket_rules",function(t){var e=a(this).attr("data-token"),n=a("input[name='lang']").val();a.ajax({url:"/AirRules",type:"POST",cache:!0,data:{flight_token:e,lang:n},dataType:"html",beforeSend:function(){w(1)},success:function(t){a("#rules_modal_container").html(JSON.parse(t)),a("#rules_modal").modal("show"),w(0)},error:function(){w(0)}}),a("#mymodal").modal("show")}),jQuery(document).on("click","#baggage_rules",function(t){var e=a(this).attr("data-token"),n=a("input[name='lang']").val();a.ajax({url:"/bagRules",type:"POST",cache:!0,data:{flight_token:e,lang:n},dataType:"html",beforeSend:function(){w(1)},success:function(t){a("#rules_modal_container").html(JSON.parse(t)),a("#rules_modal").modal("show"),w(0)},error:function(){w(0)}}),a("#mymodal").modal("show")}),jQuery(document).on("change","#contact_person",function(){0==this.value?a("#arranger_name").slideDown():a("#arranger_name").slideUp()}),a("#passengers_submit").click(function(t){var e,n;t.preventDefault();var i={};a("#passenger_form input:enabled , #passenger_form select").each(function(){e=this.name,n=a(this).val(),i[e]=n}),a.ajax({url:"/passengers/check",type:"POST",data:{request:i},beforeSend:function(){w(1)},success:function(t){if(a("input , select").removeClass("error"),a("span.error_alert").html("").hide(),t.errors){jQuery.each(t.errors,function(t,e){var n="input[name="+t+"] , select[name="+t+"]";a(n).siblings("span.error_alert").html(e).show(),a(n).addClass("error")});var e=a("#passenger_form").offset().top-40;a("html, body").animate({scrollTop:e+"px"},300)}else window.location.href=t.url;w(0)},error:function(){w(0)}})}),a(".login_form_submit").click(function(t){var e,n;t.preventDefault();var i={};a("#login_form input").each(function(){e=this.name,n=a(this).val(),i[e]=n}),a.ajax({url:"/profile/log",type:"POST",data:{request:i},beforeSend:function(){w(1)},success:function(t){a(".error_alert").html("").hide(),t.errors?jQuery.each(t.errors,function(t,e){a("input[name="+t+"]").siblings("span.error_alert").html(e).show()}):t.message?a("#not_confirmed").html(t.message).show():t.loginError?a("#login_error").html(t.loginError).show():t.success&&("passengers"==a("input[name='route']").val()?location.reload():document.location.href="/"),w(0)},error:function(){w(0)}})}),a(".passenger_form_element").click(function(){a(this).removeClass("error"),a(this).siblings("span.error_alert").html("").hide()}),jQuery(document).on("change","#select_country",function(){var t=this.value,e=a(this).attr("data-target"),n=a("input[name='domestic']").val(),i="#national_id_div"+e,r="#national_id_div"+e+" input",o="#passport_number_div"+e,s="#passport_number_div"+e+" input",l="#passport_exp_div"+e,d="#passport_exp_div"+e+" input",c="#passport_issue_div"+e,p="#passport_issue_div"+e+" input";"IR"==t&&1==n?(a(o).hide().slideUp(),a(s).attr("disabled","disabled"),a(l).hide().slideUp(),a(d).attr("disabled","disabled"),a(c).hide().slideUp(),a(p).attr("disabled","disabled"),a(i).slideDown(),a(r).removeAttr("disabled")):(a(i).hide().slideUp(),a(r).attr("disabled","disabled"),a(o).slideDown(),a(s).removeAttr("disabled"),a(l).slideDown(),a(d).removeAttr("disabled"),a(c).slideDown(),a(p).removeAttr("disabled"))}),a("#refresh_search").click(function(t){var e=a(this).attr("data-return_date"),n=a(this).attr("data-return_date_day");""==e&&(e="-",n=""),b(a(this).attr("data-origin"),a(this).attr("data-destination"),a(this).attr("data-origin_name"),a(this).attr("data-destination_name"),a(this).attr("data-adl"),a(this).attr("data-chl"),a(this).attr("data-inf"),a(this).attr("data-depart_date"),e,a(this).attr("data-depart_date_day"),n)}),a("#use_user_info").change(function(){a(this).prop("checked")?a("#pass1 .passengers_body input , #pass1 .passengers_body select").each(function(){data=a(this).attr("data-user"),a(this).val(data)}):a("#pass1 .passengers_body input , #pass1 .passengers_body select").val("")}),a("#validate_error_modal").modal("show"),a("#create_payment_error_modal").modal("show"),a(".passenger_login_modal").modal("show"),a(".tablinks").click(function(){var t=a(this).attr("data-target");a(".tablinks").removeClass("active"),a(this).addClass("active"),a(".tabcontent").hide(),a("#"+t).show()}),jQuery(document).on("click",".deal_button",function(){w(1)}),a("#cip_passengers_submit").click(function(t){var e,n;t.preventDefault();var i={};a("#cip_passenger_form input[type!=checkbox]:enabled , #cip_passenger_form input[type=checkbox]:checked:enabled , #cip_passenger_form select:enabled").each(function(){e=this.name,n=a(this).val(),i[e]=n}),a.ajax({url:"/CipPassengers/check",type:"POST",data:{request:i},beforeSend:function(){w(1)},success:function(t){a("input , select").removeClass("error"),a("span.error_alert").html("").hide();var e,n=0;if(t.errors){jQuery.each(t.errors,function(t,i){var r="input[name="+t+"] , select[name="+t+"]";a(r).siblings("span.error_alert").html(i).show(),a(r).addClass("error"),0==n&&(e=r),n=1});var i=a(e).offset().top-100;a("html, body").animate({scrollTop:i+"px"},300)}else window.location.href=t.url;w(0)},error:function(){w(0)}})}),jQuery(document).on("click",".filter_drop_down_link",function(){var t=a(this).siblings(".widget_content"),e=a(this).children(".filter_drop_down");"none"==t.css("display")?(t.slideDown("slow"),e.html("▼")):(t.slideUp("slow"),e.html("▲"))}),a(".cip_search").focus(function(){a(".search_result_cip").show()}),jQuery(document).on("change",".cip_dir_input",function(){val=a(this).val(),flying_from=a("input[name='fly_from']").val(),flying_to=a("input[name='fly_to']").val(),2==val?(a(".cip_airport").removeClass("cip_airport_destination").addClass("cip_airport_origin"),a(".cip_search").attr("placeholder",flying_from)):(a(".cip_airport").removeClass("cip_airport_origin").addClass("cip_airport_destination"),a(".cip_search").attr("placeholder",flying_to))}),jQuery(document).on("change","#country_dial_code",function(){var t=a(this).val();a("#dial_code_label").html(t)}),a("#cip_count_button").click(function(){a(".cip_count_container").show()}),a(".airline_search").keyup(function(){a(this).attr("data-validation","0");var t=a(this).val(),e=a(this).data("sec"),n=t.length,i=a("input[name='lang']").val(),r=".search_result"+e;n>1?a.ajax({url:"/AutoCompleteAirline",type:"POST",data:{data:t,sec:e,lang:i},beforeSend:function(){},success:function(t){a(r).html(t)},error:function(){}}):a(r).html("")}).click(function(){a(this).select()}),a(".cip_detail_link").change(function(){var t=a(this).attr("data-target"),e=a(t="."+t).find(":input");1==a(this).prop("checked")?(a(t).slideDown("slow"),e.removeAttr("disabled")):(a(t).slideUp("slow"),e.attr("disabled","disabled"))}),jQuery(document).on("change",".transfer_number_select",function(){var t=parseInt(a(this).attr("data-target")),e=a("input[name='lang']").val(),n=a("input[name='cip_dir']").val(),i=a(this).val(),r={};r.number=i,r.target=t,r.dir=n;var o=".transfer_form_data_container"+t;a.ajax({url:"/transfer_data",type:"POST",data:{request:r,lang:e},beforeSend:function(){},success:function(t){a(o).html(t)},error:function(){}})}),a(".passenger_header_dropdown").click(function(){var t=a(this).find(".cip_dropdown_sign").children(".up"),e=a(this).find(".cip_dropdown_sign").children(".down");a(t).hasClass("display_none")?(a(t).removeClass("display_none"),a(e).addClass("display_none")):(a(t).addClass("display_none"),a(e).removeClass("display_none"))}),a(".add_cip_person").click(function(){var t=a(".host_person_container.display_none").first();t.removeClass("display_none"),t.find(":input").removeAttr("disabled")}),a(".remove_cip_person").click(function(){var t=a(".host_person_container").not(".display_none").last();t.addClass("display_none"),t.find(":input").attr("disabled","disabled")}),ajax_loader_f=function(t,e){var n=a("input[name='lang']").val();t.forEach(function(t){a.ajax({url:"/ajax_flight",type:"POST",cache:!0,data:{render:t,search_id:e,lang:n},dataType:"html",beforeSend:function(){},success:function(e){x="#flight_main_container"+t,a("#ajax_flight_loader").hide(),a(".ajax_flight_header_before").hide(),a(".ajax_flight_header_after").show(),a(x).html(JSON.parse(e).html),a("#side_filter_main_container .theiaStickySidebar #modal-body-div .side_filter_content").html(JSON.parse(e).side_filter),a("#airline_list_main_container").html(JSON.parse(e).airline_list),g()},error:function(){}})})},other_days_f=function(t,e){a.ajax({url:"/ajax_flight_other_days",type:"POST",cache:!0,data:{render:t,search_id:e},dataType:"html",beforeSend:function(){},success:function(t){a("#ajax_other_day").hide(),a("#other_days_div").html(JSON.parse(t).html)},error:function(){}})},jQuery(document).on("mouseover",".aircraft_name i",function(){a(this).siblings(".aircraft_description").addClass("display_block_important")}),jQuery(document).on("mouseleave",".aircraft_name i",function(){a(this).siblings(".aircraft_description").removeClass("display_block_important")}),a(".other_days").click(function(t){w(1),a(".search_bar_data").attr("data-target","")}),a(window).bind("pageshow",function(a){w(0)}),a("#btn-back-to-top").click(function(){a("html, body").animate({scrollTop:0},300)}),a("#mobile_filter_button").click(function(){a("#modal-div").addClass("modal").addClass("show").addClass("d-block"),a("#modal-dialog-div").addClass("modal-dialog"),a("#modal-content-div").addClass("modal-content"),a("#modal-body-div").addClass("modal-body"),a("#side_filter_main_container").removeClass("d-none"),a("body").addClass("modal-open"),a("#modal-backdrop-div").addClass("modal-backdrop").addClass("fade").addClass("show")}),a(".filter_modal_close").click(function(){a("#modal-div").removeClass("modal").removeClass("show").removeClass("d-block"),a("#modal-dialog-div").removeClass("modal-dialog"),a("#modal-content-div").removeClass("modal-content"),a("#modal-body-div").removeClass("modal-body"),a("#side_filter_main_container").addClass("d-none"),a("body").removeClass("modal-open"),a("#modal-backdrop-div").removeClass("modal-backdrop").removeClass("fade").removeClass("show")})}),jQuery(document).mouseup(function(a){var t=$(".search_result"),e=$(".airport_search"),n=$(".cip_search"),i=$(".search_result_cip"),r=$(".cip_count_container");t.is(a.target)||0!==t.has(a.target).length||e.is(a.target)||0!==e.has(a.target).length||t.html(""),n.is(a.target)||0!==n.has(a.target).length||i.is(a.target)||0!==i.has(a.target).length||i.hide(),r.is(a.target)||0!==r.has(a.target).length||(r.hide(),add_cip_count())});