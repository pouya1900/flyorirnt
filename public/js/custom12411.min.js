var ajax_loader_f;function select_airport(sec,x,country){var search_result=".search_result"+sec,sec=".airport_search"+sec,data1=$(x).find(".airport_name_container .airport_name").html(),x=$(x).find(".airport_code_container .airport_code").html(),data1=data1+"-("+x+")";$(search_result).html(""),$(sec).val(data1).attr("data-validation","1").attr("data-country",country).attr("data-code",x)}function select_airport_cip(x,country){var data1=$(x).find(".airport_name_container .airport_name").html(),x=$(x).find(".airport_code_container .airport_code").html(),data1=data1+"-("+x+")";$(".search_result_cip").hide(),$(".cip_search").val(data1).attr("data-validation","1").attr("data-country",country).attr("data-code",x)}function select_airline(sec,x){var sec=".search_result"+sec,data1=$(x).find(".airport_name_container .airport_name").html(),x=$(x).find(".airport_code_container .airport_code").html(),data1=data1+"-("+x+")";$(sec).html(""),$(".airline_search").val(data1).attr("data-validation","1").attr("data-country",country).attr("data-code",x)}function add_cip_count(){var values=$(".cip_search_form").find(":input"),passenger=$("input[name='passenger_counting_js']").val(),passengers=$("input[name='passengers_counting_js']").val(),value={};values.each(function(){value[this.name]=$(this).val()});values=parseInt(value.adl)+parseInt(value.chl)+parseInt(value.inf),passenger=1==values?passenger:passengers;$("#cip_count_button").val(values+" "+passenger)}jQuery(document).ready(function($){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var $menu_show=$(".mobile-toggle"),$menu=$("header #menu-main"),$list=$("ul.nav-menu li a"),$cart_model=($("header li.has-dropdown"),$("ul.sub-menu"),$(".cart-model")),$cart_link=$("#cart-link"),$search_bar=$("#search_bar"),$search_close=$(".close-search"),$search_bot=$("#search-header"),$fixed_header=$("#fixed-header"),$fixed_header_dark=$("#fixed-header-dark"),$sticky_content=$(".sticky-content"),$sticky_sidebar=$(".sticky-sidebar"),$menu_show=($menu_show.click(function(event){$menu.slideToggle()}),$list.click(function(event){var submenu=this.parentNode.getElementsByTagName("ul").item(0);null!=submenu&&(event.preventDefault(),$(submenu).slideToggle())}),$(window).resize(function(){1024<$(window).width()&&$("#menu-main > ul, nav > #menu-main  li  ul").removeAttr("style")}),$cart_link.click(function(){$cart_model.slideToggle("fast")}),$(window).click(function(){$cart_model.hide("fast")}),$cart_link.click(function(event){event.stopPropagation()}),$search_bot.click(function(){$search_bar.slideToggle("fast")}),$search_close.click(function(){$search_bar.hide("fast")}),$(".travelers-say")),$list=$(".slider-1"),$cart_link=$(".travelers-say-3"),$logo=($menu_show.add($list).owlCarousel({dotsContainer:"#carousel-custom-dots",items:1,itemsDesktop:[1e3,2],itemsDesktopSmall:[900,2],itemsTablet:[600,1],itemsMobile:!1}),$cart_link.owlCarousel({dotsContainer:"#carousel-custom-dots",items:3,itemsDesktop:[1e3,3],itemsDesktopSmall:[900,3],itemsTablet:[600,1],itemsMobile:!1}),$('[data-toggle="tooltip"]').tooltip(),$(document).on("click",'[data-toggle="lightbox"]',function(event){event.preventDefault(),$(this).ekkoLightbox()}),$(window).scroll(function(){300<=$(window).scrollTop()?($fixed_header.addClass("fixed-header"),$fixed_header_dark.addClass("fixed-header-dark")):($fixed_header.removeClass("fixed-header"),$fixed_header_dark.removeClass("fixed-header-dark")),20<=$(window).scrollTop()?$("#btn-back-to-top").show():$("#btn-back-to-top").hide()}),$sticky_content.theiaStickySidebar({additionalMarginTop:30}),$sticky_sidebar.theiaStickySidebar({additionalMarginTop:30}),$(".nav-btn").click(function(){$(this).addClass("active"),$(this).siblings().removeClass("active");var i=$(this).index(),i=($("#nav-indicator").css("left",100*i+"px"),$(this).attr("data-row-id")),i=$("#"+i).first().offset().top-60;$("html, body").animate({scrollTop:i+"px"},300)}),$(".div-center")),$header_output=$(".with-center");$(window).resize(function(){$logo.css({"padding-top":($header_output.height()-($logo.outerHeight()+100))/2,"padding-bottom":($header_output.height()-($logo.outerHeight()+100))/2})}),$(window).resize(),$(".way").click(function(){$(this).addClass("active_tab"),$(this).siblings().removeClass("active_tab");var i=$(this).data("toggle"),x=$(this).data("id"),r=($("input[name='search_type']").val(i),".round_trip"+x),r_i=".daterange"+x,o=".one_way"+x,x=".date"+x;"R"==i?($(r).removeClass("display_none"),$(o).addClass("display_none"),$(r_i).removeAttr("disabled").attr("data-validation","1"),$(x).attr("disabled","disabled").attr("data-validation","0"),$(".multi_date").attr("disabled","disabled").attr("data-validation","0"),$("#round_trip").addClass("active_nav"),$("#multi").removeClass("active_nav"),$("#search_form_main_container").addClass("col-lg-6"),$("#search_form_main_container").removeClass("col-lg-10"),$(".filter-tabs").removeClass("col-lg-3"),$(".filter-tabs").addClass("col-lg-4"),$(".filter-output").removeClass("col-lg-9"),$(".filter-output").addClass("col-lg-8")):"O"==i?($(r).addClass("display_none"),$(o).removeClass("display_none"),$(r_i).attr("disabled","disabled").attr("data-validation","0"),$(".multi_date").attr("disabled","disabled").attr("data-validation","0"),$(x).removeAttr("disabled").attr("data-validation","1"),$("#round_trip").addClass("active_nav"),$("#multi").removeClass("active_nav"),$("#search_form_main_container").addClass("col-lg-6"),$("#search_form_main_container").removeClass("col-lg-10"),$(".filter-tabs").removeClass("col-lg-3"),$(".filter-tabs").addClass("col-lg-4"),$(".filter-output").removeClass("col-lg-9"),$(".filter-output").addClass("col-lg-8")):($(r_i).attr("disabled","disabled").attr("data-validation","0"),$(x).attr("disabled","disabled").attr("data-validation","0"),$(".multi_date").removeAttr("disabled").attr("data-validation","1"),$("#round_trip").removeClass("active_nav"),$("#multi").addClass("active_nav"),$("#search_form_main_container").addClass("col-lg-10"),$("#search_form_main_container").removeClass("col-lg-6"),$(".filter-tabs").removeClass("col-lg-4"),$(".filter-tabs").addClass("col-lg-3"),$(".filter-output").removeClass("col-lg-8"),$(".filter-output").addClass("col-lg-9"))}),$(".count_h_up").click(function(){var input=$(this).siblings("input"),max=input.attr("data-max"),value=parseInt(input.val());value<max&&input.val(value+=1)}),$(".count_h_down").click(function(){var input=$(this).siblings("input"),min=input.attr("data-min"),value=parseInt(input.val());min<value&&input.val(value-=1)}),$(".airport_search").keyup(function(){var parent=$(".origin"),data=($(this).attr("data-validation","0"),$(this).val()),sec=$(this).data("sec"),l=data.length,lang=$("input[name='lang']").val(),search_result=".search_result"+sec;2<l?$.ajax({url:"/AutoComplete",type:"POST",data:{data:data,sec:sec,lang:lang},beforeSend:function(){},success:function(data){$(search_result).html(data),window.matchMedia("(max-width: 767px)").matches&&$("html,body").animate({scrollTop:parent.offset().top},1e3)},error:function(){}}):$(search_result).html("")}).click(function(){$(this).select()}),$(".search_form").submit(function(){var date,values=$(this).find(":input"),value={},validation={},code={},values=(values.each(function(){value[this.name]=$(this).val(),validation[this.name]=$(this).attr("data-validation"),this.name,$(this).attr("data-country"),code[this.name]=$(this).attr("data-code")}),parseInt(validation.origin)),destination_valid=parseInt(validation.destination),adl=parseInt(value.adl),chl=parseInt(value.chl),inf=parseInt(value.inf),origin=value.origin,destination=value.destination,search_type=$("input[name='search_type']").val();let multi_validation=1,multi_date_validation=1,multi_date_order_validation=1;"M"==search_type&&(adl=parseInt(value.adl_m),chl=parseInt(value.chl_m),inf=parseInt(value.inf_m),count=$(".add_multi").data("count"),parseInt(validation.origin1)&&parseInt(validation.destination1)&&parseInt(validation.origin2)&&parseInt(validation.destination2)&&(!(3<=count)||parseInt(validation.origin3)&&parseInt(validation.destination3))&&(!(4<=count)||parseInt(validation.origin4)&&parseInt(validation.destination4))||(multi_validation=0),(!parseInt(validation.date1)||""==value.date1||!parseInt(validation.date2)||""==value.date2||3<=count&&(!parseInt(validation.date3)||""==value.date3)||4<=count&&(!parseInt(validation.date4)||""==value.date4))&&(multi_date_validation=0),moment(value.date1,"DD.MM.YYYY")>=moment(value.date2,"DD.MM.YYYY")||3<=count&&moment(value.date2,"DD.MM.YYYY")>=moment(value.date3,"DD.MM.YYYY")||4<=count&&moment(value.date3,"DD.MM.YYYY")>=moment(value.date4,"DD.MM.YYYY"))&&(multi_date_order_validation=0);var count=value.daterange_d,r_time=value.daterange_r,o_time=value.date,d_time_v=validation.daterange_d,o_time_v=validation.date,d_day=count.substring(0,2),d_month=parseInt(count.substring(3,5))-1,d_year=count.substring(6,10),d_year=(d_year=new Date(d_year,d_month,d_day)).getDay(),d_month=r_time.substring(0,2),d_day=parseInt(r_time.substring(3,5))-1,r_year=r_time.substring(6,10),r_year=(r_year=new Date(r_year,d_day,d_month)).getDay(),d_day=o_time.substring(0,2),d_month=parseInt(o_time.substring(3,5))-1,o_year=o_time.substring(6,10),o_year=(o_year=new Date(o_year,d_month,d_day)).getDay();0==values&&"M"!=search_type?(alert($("input[name='u_f_a']").val()),event.preventDefault()):(0!=destination_valid||"M"==search_type)&&("M"!=search_type||multi_validation)?origin==destination&&"M"!=search_type?(alert($("input[name='same_error']").val()),event.preventDefault()):"M"!=search_type||multi_date_validation?"M"!=search_type||multi_date_order_validation?""!=count&&""!=r_time&&0!=d_time_v||""!=o_time&&0!=o_time_v||"M"==search_type?9<adl+chl+inf?(alert($("input[name='t_n_e']").val()),event.preventDefault()):adl<inf?(alert($("input[name='i_w_a']").val()),event.preventDefault()):(date_day_week=1==d_time_v?(date=count,d_year):(date=o_time,o_year),0==d_time_v&&(r_time="-",r_year=""),search_loader_show(code.origin,code.destination,value.origin,value.destination,adl,chl,inf,date,r_time,date_day_week,r_year)):(alert($("input[name='u_d']").val()),event.preventDefault()):(alert($("input[name='u_d_o']").val()),event.preventDefault()):(alert($("input[name='u_d']").val()),event.preventDefault()):(alert($("input[name='u_t_a']").val()),event.preventDefault())}),$(".cip_search_form").submit(function(){var values=$(this).find(":input"),value={},validation={},values=(values.each(function(){value[this.name]=$(this).val(),validation[this.name]=$(this).attr("data-validation"),this.name,$(this).attr("data-country"),this.name,$(this).attr("data-code")}),parseInt(validation.cip_airport)),airline_valid=parseInt(validation.airline),time=(parseInt(value.adl),parseInt(value.chl),parseInt(value.inf),value.cip_date),d=time.slice(0,2),m=time.slice(3,5),m=parseInt(m)-1,y=time.slice(6,10),y=new Date(y,m,d),m=(y.setDate(y.getDate()-1),new Date);0==values?(alert($("input[name='u_a']").val()),event.preventDefault()):0==airline_valid?(alert($("input[name='u_airline']").val()),event.preventDefault()):""==time?(alert($("input[name='u_d']").val()),event.preventDefault()):y<=m&&(alert($("input[name='cip_min_2_day']").val()),event.preventDefault())}),new Swiper(".swiper-container",{slidesPerView:6,spaceBetween:30,slidesPerGroup:1,loop:!0,breakpoints:{768:{slidesPerView:1},992:{slidesPerView:3}},autoplay:{delay:2500,disableOnInteraction:!1},loopFillGroupWithBlank:!0,pagination:{el:".swiper-pagination",clickable:!0}});"home"==$('input[name="page"]').val()&&($search_bot=document.getElementById("slide_filter_home"),$search_close="fa"==$("input[name='lang']").val()?"rtl":"ltr",$search_bot&&(noUiSlider.create($search_bot,{start:[parseInt($("input[name='wait0']").val()),parseInt($("input[name='wait1']").val())],direction:$search_close,connect:!0,step:30,range:{min:0,max:parseInt($("input[name='max_waiting']").val())}}),$search_bot.noUiSlider.on("update",function(values,handle){var target="#"+$("#slide_filter_home").attr("data-target"),start_hour=parseInt(values[0]/60),start_min=parseInt(values[0]%60),end_hour=parseInt(values[1]/60),values=parseInt(values[1]%60);start_hour<10&&(start_hour="0"+start_hour),start_min<10&&(start_min="0"+start_min),end_hour<10&&(end_hour="0"+end_hour),values<10&&(values="0"+values),$(target).val(start_hour+":"+start_min+" - "+end_hour+":"+values)}),$search_bot.noUiSlider.on("set",function(values,handle){var start_min=values[0],values=values[1];$('input[name="wait0"]').val(start_min),$('input[name="wait1"]').val(values)})),$(".slide_filter").each(function(){var target="#"+$(this).attr("data-target"),start_hour=parseInt($("input[name='wait0']").val())/60,start_min=0,end_hour=parseInt($("input[name='wait1']").val())/60,end_min=0;start_hour<10&&(start_hour="0"+start_hour),start_min<10&&(start_min="0"+start_min),end_hour<10&&(end_hour="0"+end_hour),end_min<10&&(end_min="0"+end_min),$(target).val(start_hour+":"+start_min+" - "+end_hour+":"+end_min)}));$("input[name='is_none_stop']").val();function filtering(start,length,parent,is_none_stop,pagin_id=0){var lang=$("input[name='lang']").val(),search_id=$("input[name='sch_id']").val(),order=$(".active_order").attr("data-target");$("#ajax_flight_main_container").html(""),filter_array=(fi=function(){var filter_array=[],filter_array2=[],i=0,j=0;return $(".filter_input:not(:checked)").each(function(){var name=this.name,value=$(this).val(),return_val=$(this).attr("data-return");filter_array[i]=[name,"!=",value],filter_array2[j]=[name,"!=",value],"ValidatingAirlineCode"==name&&(filter_array[++i]=["depart_first_airline","!=",value],filter_array[++i]=["return_first_airline","!=",value]),i++,j++,return_val&&(filter_array[i]=[name="return_"+name,"!=",value],filter_array2[j]=[name,"!=",value],i++,j++)}),$(".slide_filter").each(function(){var target=$(this).attr("data-target"),start_min=$(this).attr("data-start"),end_min=$(this).attr("data-end"),return_val=$(this).attr("data-return");filter_array[i]=[target,">=",start_min],filter_array2[j]=[target,">=",start_min],j++,filter_array[++i]=[target,"<=",end_min],filter_array2[j]=[target,"<=",end_min],i++,j++,return_val&&(filter_array[i]=[target="return_"+target,">=",start_min],filter_array2[j]=[target,">=",start_min],j++,filter_array[++i]=[target,"<=",end_min],filter_array2[j]=[target,"<=",end_min],i++,j++)}),[filter_array,filter_array2]}())[0],filter_array2=fi[1],$.ajax({url:"/filter",type:"POST",cache:!0,data:{search_id:search_id,lang:lang,order:order,start:start,length:length,filter:filter_array,filter2:filter_array2,is_none_stop:is_none_stop,render:pagin_id},dataType:"html",beforeSend:function(){},success:function(data){pagin_container="#my_pagination"+pagin_id,$(pagin_container).remove(),post_content="#flight_main_container"+pagin_id,0==parent?(old_data=$(post_content).html(),$(post_content).html(old_data+JSON.parse(data).html)):1!=parent&&2!=parent||($(".flight_main_container").remove(),$(post_content).html(JSON.parse(data).html)),pagination_count_span=pagin_container+" .pagination_count_span",pagination_counter=pagin_container+" .my_pagination",x=parseInt((start+length)/25),$(pagination_counter).attr("data-count",x),flight_container=post_content+" .flight_container";var old_data=$(flight_container).length;$(pagination_count_span).html(old_data),$(flight_container).length==JSON.parse(data).count?$(pagin_container).hide():$(pagin_container).show(),pagination_total_span=pagin_container+" .pagination_total_span",$(pagination_total_span).html(JSON.parse(data).count)},error:function(){}})}function search_loader_show(origin,destination,origin_name,destination_name,adl,chl,inf,depart_date,return_date,depart_date_day,return_date_day){var depart_word=$("input[name='trs_depart_date']").val(),return_word=$("input[name='trs_return_date']").val(),adult_word=$("input[name='trs_adult']").val(),child_word=$("input[name='trs_child']").val(),infant_word=$("input[name='trs_infant']").val();$(".airport .from_airport").html(origin),$(".airport .to_airport").html(destination),$(".airport .from_airport_name").html(origin_name),$(".airport .to_airport_name").html(destination_name),$(".search_date .depart_date").html(depart_word+" : "+turn_day_of_week(depart_date_day)+" "+depart_date),"-"!=return_date&&$(".search_date .return_date").html(return_word+" : "+turn_day_of_week(return_date_day)+" "+return_date),adl&&$(".passenger_number .passenger1").html(adult_word+" : "+adl),chl&&$(".passenger_number .passenger2").html(child_word+" : "+chl),inf&&$(".passenger_number .passenger3").html(infant_word+" : "+inf),$("#search_loader").modal("show")}function turn_day_of_week(code){switch(code=parseInt(code)){case 0:day=$("input[name='trs_sunday_short']").val();break;case 1:day=$("input[name='trs_monday_short']").val();break;case 2:day=$("input[name='trs_Tuesday_short']").val();break;case 3:day=$("input[name='trs_Wednesday_short']").val();break;case 4:day=$("input[name='trs_Thursday_short']").val();break;case 5:day=$("input[name='trs_Friday_short']").val();break;case 6:day=$("input[name='trs_saturday_short']").val();break;default:day=""}return day}jQuery(document).on("click","#baggage_rules",function(e){var flight_token=$(this).attr("data-token"),lang=$("input[name='lang']").val();$.ajax({url:"/bagRules",type:"POST",cache:!0,data:{flight_token:flight_token,lang:lang},dataType:"html",beforeSend:function(){},success:function(data){$("#rules_modal_container").html(JSON.parse(data)),$("#rules_modal").modal("show")},error:function(){}}),$("#mymodal").modal("show")}),jQuery(document).on("change","#contact_person",function(){0==this.value?$("#arranger_name").slideDown():$("#arranger_name").slideUp()}),$("#passengers_submit").click(function(e){e.preventDefault();var name,value,req={};$("#passenger_form input:enabled , #passenger_form select").each(function(){name=this.name,value=$(this).val(),req[name]=value}),$.ajax({url:"/passengers/check",type:"POST",data:{request:req},beforeSend:function(){},success:function(data){var top;$("input , select").removeClass("error"),$("span.error_alert").html("").hide(),data.errors?(jQuery.each(data.errors,function(key,value){key="input[name="+key+"] , select[name="+key+"]";$(key).siblings("span.error_alert").html(value).show(),$(key).addClass("error")}),top=$("#passenger_form").offset().top-40,$("html, body").animate({scrollTop:top+"px"},300)):window.location.href=data.url},error:function(){}})}),$(".login_form_submit").click(function(e){e.preventDefault();var name,value,req={};$("#login_form input").each(function(){name=this.name,value=$(this).val(),req[name]=value}),$.ajax({url:"/profile/log",type:"POST",data:{request:req},beforeSend:function(){},success:function(data){$(".error_alert").html("").hide(),data.errors?jQuery.each(data.errors,function(key,value){$("input[name="+key+"]").siblings("span.error_alert").html(value).show()}):data.message?$("#not_confirmed").html(data.message).show():data.loginError?$("#login_error").html(data.loginError).show():data.success&&("passengers"==$("input[name='route']").val()?location.reload():document.location.href="/")},error:function(){}})}),$(".passenger_form_element").click(function(){$(this).removeClass("error"),$(this).siblings("span.error_alert").html("").hide()}),jQuery(document).on("change","#select_country",function(){var value=this.value,target=$(this).attr("data-target"),dom=$("input[name='domestic']").val(),div="#national_id_div"+target,div_input="#national_id_div"+target+" input",div_pass="#passport_number_div"+target,div_pass_input="#passport_number_div"+target+" input",div_exp="#passport_exp_div"+target,div_exp_input="#passport_exp_div"+target+" input",div_issue="#passport_issue_div"+target,target="#passport_issue_div"+target+" input";("IR"==value&&1==dom?($(div_pass).hide().slideUp(),$(div_pass_input).attr("disabled","disabled"),$(div_exp).hide().slideUp(),$(div_exp_input).attr("disabled","disabled"),$(div_issue).hide().slideUp(),$(target).attr("disabled","disabled"),$(div).slideDown(),$(div_input)):($(div).hide().slideUp(),$(div_input).attr("disabled","disabled"),$(div_pass).slideDown(),$(div_pass_input).removeAttr("disabled"),$(div_exp).slideDown(),$(div_exp_input).removeAttr("disabled"),$(div_issue).slideDown(),$(target))).removeAttr("disabled")}),$("#refresh_search").click(function(e){var return_date=$(this).attr("data-return_date"),return_date_day=$(this).attr("data-return_date_day");""==return_date&&(return_date="-",return_date_day=""),search_loader_show($(this).attr("data-origin"),$(this).attr("data-destination"),$(this).attr("data-origin_name"),$(this).attr("data-destination_name"),$(this).attr("data-adl"),$(this).attr("data-chl"),$(this).attr("data-inf"),$(this).attr("data-depart_date"),return_date,$(this).attr("data-depart_date_day"),return_date_day)}),$("#use_user_info").change(function(){$(this).prop("checked")?$("#pass1 .passengers_body input , #pass1 .passengers_body select").each(function(){data=$(this).attr("data-user"),$(this).val(data)}):$("#pass1 .passengers_body input , #pass1 .passengers_body select").val("")}),$("#create_payment_error_modal").modal("show"),$(".passenger_login_modal").modal("show"),$(".tablinks").click(function(){var target=$(this).attr("data-target");$(".tablinks").removeClass("active"),$(this).addClass("active"),$(".tabcontent").hide(),$("#"+target).show()}),jQuery(document).on("click",".deal_button",function(){}),$("#cip_passengers_submit").click(function(e){e.preventDefault();var name,value,req={};$("#cip_passenger_form input[type!=checkbox]:enabled , #cip_passenger_form input[type=checkbox]:checked:enabled , #cip_passenger_form select:enabled").each(function(){name=this.name,value=$(this).val(),req[name]=value}),$.ajax({url:"/CipPassengers/check",type:"POST",data:{request:req},beforeSend:function(){},success:function(data){$("input , select").removeClass("error"),$("span.error_alert").html("").hide();var scroll_text,top,i=0;data.errors?(jQuery.each(data.errors,function(key,value){key="input[name="+key+"] , select[name="+key+"]";$(key).siblings("span.error_alert").html(value).show(),$(key).addClass("error"),0==i&&(scroll_text=key),i=1}),top=$(scroll_text).offset().top-100,$("html, body").animate({scrollTop:top+"px"},300)):window.location.href=data.url},error:function(){}})}),jQuery(document).on("click",".filter_drop_down_link",function(){var widget=$(this).siblings(".widget_content"),icon=$(this).children(".filter_drop_down");"none"==widget.css("display")?(widget.slideDown("slow"),icon.html("▼")):(widget.slideUp("slow"),icon.html("▲"))}),$(".cip_search").focus(function(){$(".search_result_cip").show()}),jQuery(document).on("change",".cip_dir_input",function(){val=$(this).val(),flying_from=$("input[name='fly_from']").val(),flying_to=$("input[name='fly_to']").val(),2==val?($(".cip_airport").removeClass("cip_airport_destination").addClass("cip_airport_origin"),$(".cip_search").attr("placeholder",flying_from)):($(".cip_airport").removeClass("cip_airport_origin").addClass("cip_airport_destination"),$(".cip_search").attr("placeholder",flying_to))}),jQuery(document).on("change","#country_dial_code",function(){var code=$(this).val();$("#dial_code_label").html(code)}),$("#cip_count_button").click(function(){$(".cip_count_container").show()}),$(".airline_search").keyup(function(){$(this).attr("data-validation","0");var data=$(this).val(),sec=$(this).data("sec"),l=data.length,lang=$("input[name='lang']").val(),search_result=".search_result"+sec;1<l?$.ajax({url:"/AutoCompleteAirline",type:"POST",data:{data:data,sec:sec,lang:lang},beforeSend:function(){},success:function(data){$(search_result).html(data)},error:function(){}}):$(search_result).html("")}).click(function(){$(this).select()}),$(".cip_detail_link").change(function(){var item=$(this).attr("data-target"),values=$(item="."+item).find(":input");1==$(this).prop("checked")?($(item).slideDown("slow"),values.removeAttr("disabled")):($(item).slideUp("slow"),values.attr("disabled","disabled"))}),jQuery(document).on("change",".transfer_number_select",function(){var target=parseInt($(this).attr("data-target")),lang=$("input[name='lang']").val(),dir=$("input[name='cip_dir']").val(),n=$(this).val(),req={},div=(req.number=n,req.target=target,req.dir=dir,".transfer_form_data_container"+target);$.ajax({url:"/transfer_data",type:"POST",data:{request:req,lang:lang},beforeSend:function(){},success:function(data){$(div).html(data)},error:function(){}})}),$(".passenger_header_dropdown").click(function(){var up=$(this).find(".cip_dropdown_sign").children(".up"),down=$(this).find(".cip_dropdown_sign").children(".down");$(up).hasClass("display_none")?($(up).removeClass("display_none"),$(down).addClass("display_none")):($(up).addClass("display_none"),$(down).removeClass("display_none"))}),$(".add_cip_person").click(function(){var div=$(".host_person_container.display_none").first();div.removeClass("display_none"),div.find(":input").removeAttr("disabled")}),$(".remove_cip_person").click(function(){var div=$(".host_person_container").not(".display_none").last();div.addClass("display_none"),div.find(":input").attr("disabled","disabled")}),ajax_loader_f=function(render,search_id,direction=1){var lang=$("input[name='lang']").val(),json_filter=$("#json_filter").val(),l_render=render.length;$("#render_number_counter").val(l_render);let ajax_url;ajax_url=4!=direction?"/ajax_flight":"/ajax_flight_multi",render.forEach(function(item){$.ajax({url:ajax_url,type:"POST",cache:!0,data:{render:item,search_id:search_id,lang:lang,filter:json_filter},dataType:"html",beforeSend:function(){},success:function(data){x="#flight_main_container"+item;var dir,new_render_number_c=parseInt($("#render_number_counter").val())-1;$("#render_number_counter").val(new_render_number_c),new_render_number_c||($("#ajax_flight_loader").hide(),$(".ajax_flight_header_before").hide()),$(".ajax_flight_header_after").show(),$(x).html(JSON.parse(data).html),$("#side_filter_main_container .theiaStickySidebar #modal-body-div .side_filter_content").html(JSON.parse(data).side_filter),$("#airline_list_main_container").html(JSON.parse(data).airline_list),new_render_number_c=document.getElementById("slide_filter1"),data=document.getElementById("slide_filter2"),dir="fa"==$("input[name='lang']").val()?"rtl":"ltr",new_render_number_c&&(noUiSlider.create(new_render_number_c,{start:[parseInt($("#slide_filter1").attr("data-start")),Math.min(parseInt($("#slide_filter1").attr("data-end")),parseInt($("input[name='max_waiting']").val()))],direction:dir,connect:!0,step:30,range:{min:0,max:parseInt($("input[name='max_waiting']").val())}}),new_render_number_c.noUiSlider.on("update",function(values,handle){var target="#"+$("#slide_filter1").attr("data-target"),start_hour=parseInt(values[0]/60),start_min=parseInt(values[0]%60),end_hour=parseInt(values[1]/60),values=parseInt(values[1]%60);start_hour<10&&(start_hour="0"+start_hour),start_min<10&&(start_min="0"+start_min),end_hour<10&&(end_hour="0"+end_hour),values<10&&(values="0"+values),$(target).val(start_hour+":"+start_min+" - "+end_hour+":"+values)}),new_render_number_c.noUiSlider.on("set",function(values,handle){var start_min=values[0],values=values[1],is_none_stop=$("input[name='is_none_stop']").val(),x=$(".my_pagination").attr("data-count");$("#slide_filter1").attr("data-start",start_min),$("#slide_filter1").attr("data-end",values);filtering(0,25*x,1,is_none_stop),$("html,body").animate({scrollTop:$(".flight_post_body").offset().top},1e3)})),data&&(noUiSlider.create(data,{start:[0,parseInt($("input[name='max_waiting']").val())],connect:!0,step:30,range:{min:0,max:parseInt($("input[name='max_waiting']").val())}}),data.noUiSlider.on("update",function(values,handle){var target="#"+$("#slide_filter2").attr("data-target"),start_hour=parseInt(values[0]/60),start_min=parseInt(values[0]%60),end_hour=parseInt(values[1]/60),values=parseInt(values[1]%60);start_hour<10&&(start_hour="0"+start_hour),start_min<10&&(start_min="0"+start_min),end_hour<10&&(end_hour="0"+end_hour),values<10&&(values="0"+values),$(target).val(start_hour+":"+start_min+" - "+end_hour+":"+values)}),data.noUiSlider.on("set",function(values,handle){var start_min=values[0],values=values[1],is_none_stop=$("input[name='is_none_stop']").val(),x=$(".my_pagination").attr("data-count");$("#slide_filter2").attr("data-start",start_min),$("#slide_filter2").attr("data-end",values);filtering(0,25*x,1,is_none_stop),$("html,body").animate({scrollTop:$(".flight_post_body").offset().top},1e3)})),$(".slide_filter").each(function(){var target="#"+$(this).attr("data-target"),start_hour=parseInt($("#slide_filter1").attr("data-start"))/60,start_min=0,end_hour=Math.min(parseInt($("#slide_filter1").attr("data-end")),parseInt($("input[name='max_waiting']").val()))/60,end_min=0;start_hour<10&&(start_hour="0"+start_hour),start_min<10&&(start_min="0"+start_min),end_hour<10&&(end_hour="0"+end_hour),end_min<10&&(end_min="0"+end_min),$(target).val(start_hour+":"+start_min+" - "+end_hour+":"+end_min)}),$("input[name='is_none_stop']").val()},error:function(){}})})},other_days_f=function(render,search_id){$.ajax({url:"/ajax_flight_other_days",type:"POST",cache:!0,data:{render:render,search_id:search_id},dataType:"html",beforeSend:function(){},success:function(data){$("#ajax_other_day").hide(),$("#other_days_div").html(JSON.parse(data).html)},error:function(){}})},jQuery(document).on("mouseover",".aircraft_name i",function(){$(this).siblings(".aircraft_description").addClass("display_block_important")}),jQuery(document).on("mouseleave",".aircraft_name i",function(){$(this).siblings(".aircraft_description").removeClass("display_block_important")}),$(".other_days").click(function(e){$(".search_bar_data").attr("data-target","")}),$(window).bind("pageshow",function(event){}),$("#btn-back-to-top").click(function(){$("html, body").animate({scrollTop:0},300)}),$("#mobile_filter_button").click(function(){$("#modal-div").addClass("modal").addClass("show").addClass("d-block"),$("#modal-dialog-div").addClass("modal-dialog"),$("#modal-content-div").addClass("modal-content"),$("#modal-body-div").addClass("modal-body"),$("#side_filter_main_container").removeClass("d-none"),$("body").addClass("modal-open"),$("#modal-backdrop-div").addClass("modal-backdrop").addClass("fade").addClass("show")}),$(".filter_modal_close").click(function(){$("#modal-div").removeClass("modal").removeClass("show").removeClass("d-block"),$("#modal-dialog-div").removeClass("modal-dialog"),$("#modal-content-div").removeClass("modal-content"),$("#modal-body-div").removeClass("modal-body"),$("#side_filter_main_container").addClass("d-none"),$("body").removeClass("modal-open"),$("#modal-backdrop-div").removeClass("modal-backdrop").removeClass("fade").removeClass("show")}),$(".add_multi").click(function(){var count=$(this).data("count");2==count&&($(".addition_multi3").show(),$(this).data("count",3)),3==count&&($(".addition_multi4").show(),$(this).data("count",4),$(this).hide())}),$(".remove_multi").click(function(){var mul=$(this).data("mul"),mul=($(".addition_multi"+mul).hide(),$(".add_multi")),count=mul.data("count");mul.show().data("count",count-1)})}),jQuery(document).mouseup(function(e){var container=$(".search_result"),container2=$(".airport_search"),container3=$(".cip_search"),container4=$(".search_result_cip"),cip_count=$(".cip_count_container");container.is(e.target)||0!==container.has(e.target).length||container2.is(e.target)||0!==container2.has(e.target).length||container.html(""),container3.is(e.target)||0!==container3.has(e.target).length||container4.is(e.target)||0!==container4.has(e.target).length||container4.hide(),cip_count.is(e.target)||0!==cip_count.has(e.target).length||(cip_count.hide(),add_cip_count())});